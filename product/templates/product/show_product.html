{% extends 'base.html' %}
{% block content %}

<div class="container-fluied">
    <div class="row">
        <div class="col-md-3 bg-light p-3 mt-3">
            <h5>Filter By Category</h5>
            <hr>
            <p><a class="anchor" href="{% url 'show-product' %}">All</a></p>
            {% for category in categories %}
            <p><a href="{% url 'category' category.name %}">{{category.name}}</a>
                </p>
                {% endfor %}
            <h5>Filter By Price</h5>
            <hr>
            <form>
                <div class="mb-3">
                    <label class="form-label" for>MIN</label>
                    <input class="form-control" type="text" name="min">
                </div>
                <div class="mb-3">
                    <label class="form-label" for>MAX</label>
                    <input class="form-control" type="text" name="max">
                </div>
                <div class="mb-3">
                    
                    <input class="btn btn-danger" type="submit" value="search">
                </div>
            </form>
            <h5>Sort By Price</h5>
            <hr>
            <p><a  class="anchor" href="/">High To Low</a></p>
            <p><a class="anchor"  href="/">Low To High</a></p>
        </div>
       
        <div class="col-md-9 mt-3 bg-light">
          <div class="row">
            {% for p in products %}
            <div class="col-md-3 p-4 ">
              <div class="card" style="width: 100%;">
                <img src="{{p.image.url}}" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">{{p.name}}</h5>
                  <p class="card-title">{{p.desc}}</p>
                  <p class="card-title">{{p.price}}</p>
                  <a href="{% url 'product-detail' p.slug %}" class="btn btn-danger">Show Product Detail</a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
<div style=" display: flex;justify-content: center; margin: auto;">
<nav aria-label="Page navigation">
  <ul class="pagination    " >
    
    {% if paginate.has_previous %}
  <li class="page-item">
    <a class="page-link" href="?page=1" aria-label="First">
      <span aria-hidden="true">First</span>
    </a>
  </li>
    <li class="page-item disabled">
      <a class="page-link" href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
  {% endif %}
    {% for page_number in range %}
    <li class="page-item {% if paginate.number == page_number %}active{% endif %}">
      <a class="page-link" href="?page={{page_number}}">{{page_number}}</a>
    </li>
    {% endfor %}
  {% if paginate.has_next %}
    <li class="page-item"> 
      <a class="page-link" href="?page={{paginate.next_page_number}}" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
    <li class="page-item">
      <a class="page-link" href="?page={{paginate.paginator.num_pages}}" aria-label="Last">
        <span aria-hidden="true">Last</span>
      </a>
    </li>
    {% endif %}
  </ul>
</nav>

</div>
</div>


{% endblock %}



<nav aria-label="Page navigation">
  <ul
    class="pagination    "
  >
    <li class="page-item disabled">
      <a class="page-link" href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    <li class="page-item active" aria-current="page">
      <a class="page-link" href="#">1</a>
    </li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item">
      <a class="page-link" href="#">3</a>
    </li>
    <li class="page-item">
      <a class="page-link" href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</nav>
